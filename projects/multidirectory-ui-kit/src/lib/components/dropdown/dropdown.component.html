<div class="searchable-select" #trigger>
  <button type="button" class="select-trigger" (click)="openDropdown()" [disabled]="disabled">
    <span class="button-content">
      {{ selectedOption ? selectedOption.title : placeholder() }}
    </span>
    @if (allowEmpty()) {
      <span (click)="clearSelected()">x</span>
    }
  </button>
</div>

<ng-template #dropdownTemplate>
  <div class="dropdown">
    @if (allowSearch()) {
      <input type="text" class="search-input" placeholder="Searchâ€¦" [(ngModel)]="searchTerm" />
    }

    <ul class="options">
      @for (option of filteredOptions(); track option) {
        <li (click)="selectOption(option)">
          {{ option.title }}
        </li>
      }
    </ul>
  </div>
</ng-template>
