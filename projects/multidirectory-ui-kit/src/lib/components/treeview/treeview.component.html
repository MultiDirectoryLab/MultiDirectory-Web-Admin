<div class="scrollable">
    <ul>
        <ng-container 
        *ngFor="let node of tree"
        [ngTemplateOutlet]="treeNode"
        [ngTemplateOutletContext]="{ $implicit: node }"></ng-container>
    </ul>
</div>


<ng-template #treeNode let-data>
    <div>
        <li class="tree-item" [ngClass]="{ 
            expanded: data.expanded, 
            expandable: data.children?.length > 0 || !!data.loadChildren
        }" (click)="toggleNode(data)">
        <img [src]="data.icon"    />    
        {{data.name}}
    </li>
    </div>
    <ng-container *ngIf="data.children != null && data.expanded">
        <ul>
            <ng-container *ngFor="let child of data.children"
                [ngTemplateOutlet]="treeNode"
                [ngTemplateOutletContext]="{ $implicit: child }"
            ></ng-container>
        </ul>
    </ng-container>
</ng-template>