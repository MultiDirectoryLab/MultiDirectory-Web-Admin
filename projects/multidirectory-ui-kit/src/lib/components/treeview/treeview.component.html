<div class="scrollable">
    <ul>
        <ng-container 
            *ngFor="let node of tree"
            [ngTemplateOutlet]="treeNode"
            [ngTemplateOutletContext]="{ $implicit: node }"></ng-container>
    </ul>
</div>


<ng-template #treeNode let-data>
    <div (click)="handleNodeClick($event, data)">
        <li class="tree-item" [ngClass]="{
            expanded: data.expanded,
            expandable: (data.children?.length > 0 || !!data.loadChildren),
            selected: data.selected
        }">
            <label
                class="expand-mark"
                *ngIf="(data.children?.length > 0 || !!data.loadChildren)"
              >
                {{ data.expanded? '-' : '+' }}
            </label>

            <img [src]="data.icon"    />   

            <label class="tree-label">{{data.name}}</label>
        </li>
    </div>
    <ng-container *ngIf="data.children != null && data.expanded">
        <ul>
            <ng-container *ngFor="let child of data.children"
                [ngTemplateOutlet]="treeNode"
                [ngTemplateOutletContext]="{ $implicit: child }"
            ></ng-container>
        </ul>
    </ng-container>
</ng-template>