<md-modal #accessControlCreateModal width="500px">
    <div class="app-modal-header">
        Добавить клиент
    </div>
    <md-form #form>
        <div class="flex-column">
            <div class="row pv-8">
                <div class="col-xs-4">Домен</div>
                <div class="col-xs-8">
                    <md-textbox 
                        required 
                        [(ngModel)]="accessClient.name">
                    </md-textbox>
                </div>
            </div>

            <div class="row pv-8">
                <div class="col-xs-4">IP Адреса</div>
                <div class="col-xs-6">
                    <md-textbox 
                        required 
                        validIpAddress
                        (blur)="onIpChanged()"
                        [(ngModel)]="ipAddresses">
                    </md-textbox>
                </div>
                <div class="col-xs-2">
                    <md-plane-button [hasBorder]="true" (click)="changeIpAdressAttribute()">
                        Добавить
                    </md-plane-button>
                </div>
            </div>

            <div class="row pv-8">
                <div class="col-xs-4">Группы доступа</div>
                <div class="col-xs-6">
                    <md-multiselect 
                        [suppressMenu]="true"
                        [options]="availableGroups"
                        [(ngModel)]="groupQuery"
                        (onEnter)="checkGroups()"
                        #groupSelector></md-multiselect>
                </div>
                <div class="col-xs-2">
                    <md-plane-button [hasBorder]="true" (click)="checkGroups()">
                        Проверить
                    </md-plane-button>
                </div>
            </div>

            <div class="row pv-8">
                <div class="col-xs-4">MFA</div>
                <div class="col-xs-8">
                    <md-dropdown class="w-100" [options]="options" [(ngModel)]="mfaAccess" required>
                    </md-dropdown>
                </div>
            </div>

        </div>
    </md-form>
    <div class="app-modal-footer flex-row justify-end flex-gap-10">
        <md-button (click)="close()">Отмена</md-button>
        <md-button [disabled]="!form.valid" [primary]="true" (click)="save()">Применить</md-button>
    </div>
</md-modal> 

<app-access-policy-ip-list #ipListEditor></app-access-policy-ip-list>