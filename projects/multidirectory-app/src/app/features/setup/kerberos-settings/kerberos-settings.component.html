@if (!setupRequest.generateKdcPasswords) {
  <div>
    <div class="flex justify-between">
      <div class="pv-8 accented w-full">
        {{ 'setup.kerberos-settings.header' | transloco }}
        <hr />
      </div>
    </div>
    <md-form #form>
      <div class="flex flex-col gap-5">
        <div class="flex flex-column gap-1">
          <label class="textbox-label">{{ 'setup.kerberos-settings.krbadmin-password-label' | transloco }}</label>
          <div class="flex flex-col flex-grow-1">
            <md-textbox
              #krbPasswordInput="ngModel"
              appRequired
              appPasswordShouldBeValid
              [passwordPolicy]="passwordPolicy"
              [password]="true"
              [appPasswordMatch]="krbRepeatPassword"
              [appPasswordNotMatch]="stashPasswordInput"
              [(ngModel)]="setupRequest.krbadmin_password"
              (keyup)="checkModel()"
            ></md-textbox>
          </div>
        </div>

        <div class="flex flex-column gap-1">
          <label class="textbox-label">{{ 'setup.kerberos-settings.krbadmin-password-repeat-label' | transloco }}</label>
          <div class="flex flex-col flex-grow-1">
            <md-textbox
              appRequired
              #krbRepeatPassword="ngModel"
              [appPasswordMatch]="krbPasswordInput"
              [password]="true"
              [(ngModel)]="setupRequest.krbadmin_password_repeat"
              (keyup)="checkModel()"
            ></md-textbox>
          </div>
        </div>

        <div class="flex flex-column gap-1">
          <label class="textbox-label">{{ 'setup.kerberos-settings.stash-password-label' | transloco }}</label>
          <div class="flex flex-col flex-grow-1">
            <md-textbox
              #stashPasswordInput="ngModel"
              appRequired
              [password]="true"
              [appPasswordMatch]="stashRepeatPassword"
              [(ngModel)]="setupRequest.stash_password"
              (keyup)="checkModel()"
            ></md-textbox>
          </div>
        </div>

        <div class="flex flex-column gap-1">
          <label class="textbox-label">{{ 'setup.kerberos-settings.stash-password-repeat-label' | transloco }}</label>
          <div class="flex flex-col flex-grow-1">
            <md-textbox
              appRequired
              #stashRepeatPassword="ngModel"
              [appPasswordMatch]="stashPasswordInput"
              [password]="true"
              (keyup)="checkModel()"
              [(ngModel)]="setupRequest.stash_password_repeat"
            ></md-textbox>
          </div>
        </div>

        <div class="flex pt-16 justify-between">
          <md-button type="button" class="requirements-button" [primary]="true" (click)="togglePasswordRequirements()">{{
            passwordRequirementsLabel()
          }}</md-button>

          <md-button (click)="downloadPasswords()">{{ 'setup.kerberos-settings.download-passwords' | transloco }}</md-button>
        </div>

        <div class="password-conditions-wrapper" [class.visible]="showPasswordRequirements()">
          <app-password-conditions [policy]="passwordPolicy" [currentPassword]="password()"></app-password-conditions>
        </div>
      </div>
    </md-form>
  </div>
}
@if (setupRequest.generateKdcPasswords) {
  <div></div>
}
